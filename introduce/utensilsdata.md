# 📄 UtensilsData.json - 器物百科資料庫

## 📝 檔案概述

`UtensilsData.json` 是一個 **JSON 格式的靜態資料庫**，儲存了本系統能辨識的所有古代器物的詳細資訊。

當系統透過鏡頭辨識出特定的器物代碼（如 `Uten04`）時，程式會從此檔案中檢索對應的名稱、年代、說明文字與參考圖片連結，並將其用於：

1. **前端顯示**：填入網頁右側的 HTML 資訊卡。
2. **AI 生成**：作為 Prompt（提示詞）的一部分發送給 N8N，讓 AI 理解該器物的細節以進行還原繪圖。

## 🏗️ 資料結構 (Data Structure)

檔案採用 **Key-Value (鍵-值對)** 的巢狀結構：

* **Key (鍵)**：器物的唯一識別碼 (ID)，對應 Tensorflow SavedModel 模型辨識後的標籤 (如 `Uten04`)。
* **Value (值)**：包含該器物詳細屬性的物件 (Object)。

### 欄位說明表

每個器物物件包含以下五個固定欄位：

| 欄位名稱 (Field) | 資料型態 | 用途說明 | 範例內容 |
| --- | --- | --- | --- |
| **器物名稱** | String | 顯示於資訊卡標題 | `牛罵頭-三連杯陶質基座` |
| **器物時代** | String | 考古學上的時代劃分 | `新石器時代中期` |
| **器物年代** | String | 具體的距今年份範圍 | `距今約 4,500 年至 3,400 年` |
| **器物說明** | String | **核心欄位**。用於前端介紹，同時也是 AI 生成圖片時的重要描述依據。 | `這件屬於...的「三連杯陶質基座」，是...` |
| **照片網址** | String (URL) | 提供給 AI (N8N) 參考的圖片連結，讓生成的器物更準確。 | `https://drive.google.com...` |

## 🗝️ 收錄器物列表

目前資料庫中定義了以下識別碼與對應器物：

* **`Uten04`**: **牛罵頭-三連杯陶質基座** (特殊禮器，三連杯構造)
* **`Uten05`**: **牛罵頭-繩紋紅陶罐** (生活容器，表面有細繩紋)
* **`Uten03`**: **清水中社-陶缽** (金屬器時代，墓葬隨葬品)
* **`Uten01`**: **清水中社-陶蓋** (與容器配套的組件)
* **`Uten02`**: **清水中社-圓腹罐** (烹煮容器，具幾何刻劃紋)
* **`Unknown`**: **未知** (系統無法辨識時的預設回傳值)

---

## 🔗 系統運作邏輯

在 `fun.py` 的 `Tool` 與 `Camera` 類別中，此檔案扮演關鍵角色：

1. **模型辨識**：
`Camera` 類別偵測到物體後，解析出 ID（例如偵測到 ID 為 `4`，轉換為 `Uten04`）。
2. **資料檢索**：
`Tool.InfomationCard(id)` 函式會讀取 `UtensilsData.json`，根據 ID 抓取對應的資料。
3. **生成提示詞**：
`InternetSeletter` 會將 `器物說明` 與 `照片網址` 結合使用者選單的設定，組合成完整的 Prompt 發送給 Generative AI。

## 🔧 擴充指南

若您的 SavedModel 模型新增了新的類別（例如 `Uten06`），請依照以下格式將其加入此檔案：

```json
    "Uten06" : {
        "器物名稱" : "新器物名稱",
        "器物時代" : "所屬時代",
        "器物年代" : "年份範圍",
        "器物說明" : "詳細的描述文字...",
        "照片網址" : "https://公開可存取的圖片連結"
    },

```

### ⚠️ 注意事項

1. **ID 對應**：JSON 的 **Key (如 Uten04)** 必須與 `fun.py` 中 `Camera._update` 邏輯產生的 ID 完全一致。
2. **照片網址**：請確保網址是**公開可讀取**的（如 Google Drive 開啟共用權限），否則 N8N 端可能無法讀取參考圖。
3. **格式驗證**：編輯後請確認 JSON 格式正確（最後一個項目後不能有逗號）。